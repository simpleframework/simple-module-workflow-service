<?xml version="1.0" encoding="UTF-8"?>
<sql-script>
	<version>1.0.0</version>
	<name>script</name>
	<description>workflow database script.</description>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_model (
        id char(32) not null,
        modelname varchar(64) not null, 
        modeltext varchar(128),
        status int2 not null,
        userid char(32) not null,
        createdate timestamp not null,
        lastuserid varchar(32),
        lastupdate timestamp,
        processcount int4 not null,
        unique(modelname),
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_model_lob (
        id char(32) not null,
        processschema text,
        processimage bytea,
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_process (
        id char(32) not null,
        modelid char(32) not null,
        title varchar(128),
        status int2 not null,
        userid char(32),
        createdate timestamp not null,
        roleid char(32),
        completedate timestamp,
        lastupdate timestamp,
        properties text,
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_process_lob (
        id char(32) not null,
        processmodel text,
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_delegation (
        id char(32) not null,
        delegationsource int2 not null,
        sourceid char(32) not null,
        status int2 not null,
        createdate timestamp not null,
        userid char(32) not null,
        runningdate timestamp,
        completedate timestamp,
        startdate timestamp, 
        enddate timestamp,   
        rulehandler varchar(128), 
        description varchar(256),
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_activity (
        id char(32) not null,
        processid char(32) not null,
        previousid char(32),
        tasknodeid char(32) not null,
        tasknodetype int2 not null,
        status int2 not null,
        createdate timestamp not null,
        completedate timestamp,
        lastupdate timestamp,
        properties text,
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_workitem (
        id char(32) not null,
        activityid char(32) not null,
        status int2 not null,
        roleid char(32) not null, 
        userid char(32) not null,
        userid2 char(32) not null,
        createdate timestamp not null,
        enddate timestamp,
        completedate timestamp,
        lastupdate timestamp,
        readmark bool,
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_variable (
        id char(32) not null,
        variablesource int2 not null,
        sourceid char(32) not null,
        variablename varchar(32) not null, 
        stringvalue varchar(128),
        clobvalue text,
        unique(variablesource, sourceid, variablename),
        primary key(id)
      );
    ]]>
	</tran-sql>
	<tran-sql>
    <![CDATA[
      create table sf_workflow_variable_log (
        id char(32) not null,
        variableid char(32) not null,
        createdate timestamp not null,
        userid char(32) not null,
        stringvalue varchar(128),
        clobvalue text,
        primary key(id)
      );
    ]]>
	</tran-sql>
</sql-script>
